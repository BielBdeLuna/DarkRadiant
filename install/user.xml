<?xml version="1.0"?>
<user>
  <version value="0.7.0" />
  <ui>
    <ModelSelector>
    	<previewSizeFactor value="0.4"/>
    </ModelSelector>
	<showAllLightRadii value="0"/>
	<alwaysShowLightCenter value="1"/>
    <colourschemes>
      <scheme name="DarkRadiant Default" readonly="1" active="1">
 	    <colour name="texture_background" value="0.25 0.25 0.25" />
	    <colour name="grid_background" value="1 1 1" />
	    <colour name="grid_major" value="0.5 0.5 0.5" />
	    <colour name="grid_minor" value="0.75 0.75 0.75" />
	    <colour name="grid_text" value="0 0 0" />
	    <colour name="grid_block" value="0 0 1" />
	    <colour name="default_brush" value="0 0 0" />
	    <colour name="camera_background" value="0.25 0.25 0.25" />
	    <colour name="selected_brush" value="1 0 0" />
	    <colour name="selected_brush_camera" value="1 0 0" />
	    <colour name="clipper" value="0 0 1" />
	    <colour name="active_view_name" value="0.5 0 0.75" />
		<colour name="axis_x" value="1 0 0" />
		<colour name="axis_y" value="0 1 0" />
		<colour name="axis_z" value="0 0 1" />
		<colour name="workzone" value="1 0 0" />
		<colour name="camera_icon" value="0 0 1" />
		<colour name="brush_size_info" value="0.65 0 0" />
		<colour name="light_volumes" value="0 1 0" />
		<colour name="brush_vertices" value="0 1 0" />
		<colour name="patch_vertex_inside" value="0 1 0" />
	    <colour name="patch_vertex_corner" value="1 0 1" />
      </scheme>
      <scheme name="QE3Radiant Original" readonly="1">
 	    <colour name="texture_background" value="0.25 0.25 0.25" />
	    <colour name="grid_background" value="1 1 1" />
	    <colour name="grid_major" value="0.5 0.5 0.5" />
	    <colour name="grid_minor" value="1 1 1" />
	    <colour name="grid_text" value="0 0 0" />
	    <colour name="grid_block" value="0 0 1" />
	    <colour name="default_brush" value="0 0 0" />
	    <colour name="camera_background" value="0.25 0.25 0.25" />
	    <colour name="selected_brush" value="1 0 0" />
	    <colour name="selected_brush_camera" value="1 0 0" />
	    <colour name="clipper" value="0 0 1" />
	    <colour name="active_view_name" value="0.5 0 0.75" />
		<colour name="axis_x" value="1 0 0" />
		<colour name="axis_y" value="0 1 0" />
		<colour name="axis_z" value="0 0 1" />
		<colour name="workzone" value="1 0 0" />
		<colour name="camera_icon" value="0 0 1" />
		<colour name="brush_size_info" value="0.65 0 0" />
		<colour name="light_volumes" value="0 1 0" />
		<colour name="brush_vertices" value="0 1 0" />
		<colour name="patch_vertex_inside" value="0 1 0" />
	    <colour name="patch_vertex_corner" value="1 0 1" />
      </scheme>
      <scheme name="Black &amp; Green" readonly="1">
 	   <colour name="texture_background" value="0.25 0.25 0.25" />
	   <colour name="grid_background" value="0 0 0" />
	   <colour name="grid_major" value="0.3 0.5 0.5" />
	   <colour name="grid_minor" value="0.2 0.2 0.2" />
	   <colour name="grid_text" value="1 1 1" />
	   <colour name="grid_block" value="0 0 1" />
	   <colour name="default_brush" value="1 1 1" />
	   <colour name="camera_background" value="0.25 0.25 0.25" />
	   <colour name="selected_brush" value="1 0 0" />
	   <colour name="selected_brush_camera" value="1 0 0" />
	   <colour name="clipper" value="0 0 1" />
	   <colour name="active_view_name" value="0.7 0.7 0" />
	   <colour name="axis_x" value="1 0 0" />
	   <colour name="axis_y" value="0 1 0" />
	   <colour name="axis_z" value="0 0 1" />
	   <colour name="workzone" value="1 0 0" />
	   <colour name="camera_icon" value="0 0 1" />
	   <colour name="brush_size_info" value="0.65 0 0" />
	   <colour name="light_volumes" value="0 1 0" />
	   <colour name="brush_vertices" value="0 1 0" />
	   <colour name="patch_vertex_inside" value="0 1 0" />
	   <colour name="patch_vertex_corner" value="1 0 1" />
      </scheme>
      <scheme name="Maya/Max/Lightwave Emulation" readonly="1">
 	   <colour name="texture_background" value="0.25 0.25 0.25" />
	   <colour name="grid_background" value="0.77 0.77 0.77" />
	   <colour name="grid_major" value="0.89 0.89 0.89" />
	   <colour name="grid_minor" value="0.83 0.83 0.83" />
	   <colour name="grid_text" value="0 0 0" />
	   <colour name="grid_block" value="1 1 1" />
	   <colour name="default_brush" value="0 0 0" />
	   <colour name="camera_background" value="0.25 0.25 0.25" />
	   <colour name="selected_brush" value="1 0 0" />
	   <colour name="selected_brush_camera" value="1 0 0" />
	   <colour name="clipper" value="0 0 1" />
	   <colour name="active_view_name" value="0.5 0 0.75" />
	   <colour name="axis_x" value="1 0 0" />
	   <colour name="axis_y" value="0 1 0" />
	   <colour name="axis_z" value="0 0 1" />
	   <colour name="workzone" value="1 0 0" />
	   <colour name="camera_icon" value="0 0 1" />
	   <colour name="brush_size_info" value="0.65 0 0" />
	   <colour name="light_volumes" value="0 1 0" />
	   <colour name="brush_vertices" value="0 1 0" />
	   <colour name="patch_vertex_inside" value="0 1 0" />
	   <colour name="patch_vertex_corner" value="1 0 1" />
       </scheme>
    </colourschemes>
	<colourschemedescription>
		<texture_background value="Texture Background" />
		<grid_background value="Grid Background" />
		<grid_major value="Grid Major" />
		<grid_minor value="Grid Minor" />
		<grid_text value="Grid Text" />
		<grid_block value="Grid Block" />
		<default_brush value="Default Brush" />
		<camera_background value="Camera Background" />
		<selected_brush value="Selected Brush" />
		<selected_brush_camera value="Selected Brush (Camera)" />
		<clipper value="Clipper" />
		<active_view_name value="Active View Name" />
		<axis_x value="X-Axis" />
		<axis_y value="Y-Axis" />
		<axis_z value="Z-Axis" />
		<workzone value="Workzone" />
		<camera_icon value="Camera Icon" />
		<brush_size_info value="Brush Size Info" />
		<light_volumes value="Light Volumes" />
		<brush_vertices value="Brush Vertices" />
		<patch_vertex_inside value="Patch Inside Vertex" />
	    <patch_vertex_corner value="Patch Corner Vertex" />
	</colourschemedescription>
    <toolbar name="view" align="horizontal">
			<toolbutton name="open" action="OpenMap" tooltip="Open a map file" icon="file_open.png"/>
			<toolbutton name="save" action="SaveMap" tooltip="Save the current map" icon="file_save.png"/>
		<separator/>
			<toolbutton name="changeviews" action="NextView" tooltip="Change views" icon="view_change.png"/>
			<toggletoolbutton name="cubicclip" action="ToggleCubicClip" tooltip="Cubic clip the camera view" icon="view_cubicclipping.png"/>
		<separator/>
			<toolbutton name="selecttouching" action="SelectTouching" tooltip="Select touching" icon="selection_selecttouching.png"/>
			<toolbutton name="selectinside" action="SelectInside" tooltip="Select inside" icon="selection_selectinside.png"/>
		<separator/>
			<toggletoolbutton name="dragvertices" action="DragVertices" tooltip="Select Vertices" icon="modify_vertices.png"/>
			<toggletoolbutton name="dragedges" action="DragEdges" tooltip="Select Edges" icon="modify_edges.png"/>
			<toggletoolbutton name="dragfaces" action="DragFaces" tooltip="Select Faces" icon="modify_faces.png"/>
		<separator/>
			<toggletoolbutton name="showlightradii" action="ToggleShowAllLightRadii" tooltip="Show/hide all light volumes" icon="view_show_lightradii.png"/>
	</toolbar>
	<toolbar name="edit" align="vertical">
			<toolbutton name="xflip" action="MirrorSelectionX" tooltip="x-axis Flip" icon="brush_flipx.png"/>
			<toolbutton name="xrotate" action="RotateSelectionX" tooltip="x-axis Rotate" icon="brush_rotatex.png"/>
			<toolbutton name="yflip" action="MirrorSelectionY" tooltip="y-axis Flip" icon="brush_flipy.png"/>
			<toolbutton name="yrotate" action="RotateSelectionY" tooltip="y-axis Rotate" icon="brush_rotatey.png"/>
			<toolbutton name="zflip" action="MirrorSelectionZ" tooltip="z-axis Flip" icon="brush_flipz.png"/>
			<toolbutton name="zrotate" action="RotateSelectionZ" tooltip="z-axis Rotate" icon="brush_rotatez.png"/>
		<separator/>
			<toolbutton name="csgsubstract" action="CSGSubtract" tooltip="CSG Subtract" icon="selection_csgsubtract.png"/>
			<toolbutton name="csgmerge" action="CSGMerge" tooltip="CSG Merge" icon="selection_csgmerge.png"/>
			<toolbutton name="csghollow" action="CSGHollow" tooltip="Hollow" icon="selection_makehollow.png"/>
		<separator/>
			<toggletoolbutton name="translate" action="MouseTranslate" tooltip="Translate" icon="select_mousetranslate.png"/>
			<toggletoolbutton name="rotate" action="MouseRotate" tooltip="Rotate" icon="select_mouserotate.png"/>
			<toggletoolbutton name="scale" action="MouseScale" tooltip="Scale" icon="select_mousescale.png"/>
			<toggletoolbutton name="resize" action="MouseDrag" tooltip="Resize" icon="select_mouseresize.png"/>
			<toggletoolbutton name="clipper" action="ToggleClipper" tooltip="Clipper" icon="view_clipper.png"/>
		<separator/>
			<toolbutton name="capcurrentcurve" action="CapCurrentCurve" tooltip="Put caps on the current patch" icon="curve_cap.png"/>
		<separator/>
			<toggletoolbutton name="texturelock" action="TogTexLock" tooltip="Texture Lock" icon="texture_lock.png"/>
	</toolbar>
	<toolbar name="texture" align="horizontal">
		<toolbutton name="flush" action="RefreshShaders" tooltip="Flush &amp; Reload Shaders" icon="texwindow_flushandreload.png"/>
		<toggletoolbutton name="showinuse" action="ShowInUse" tooltip="Hide Unused" icon="texwindow_hideunused.png"/>
    <separator/>		
		<toolbutton name="findandreplace" action="FindReplaceTextures" tooltip="Find &amp; Replace" icon="texwindow_findandreplace.png"/>
  </toolbar>
 </ui>
 <upgradePaths>
	<upgradePath fromVersion="0.5.0">
		<!-- Find the currently active scheme and store its name to Memory 1 -->
		<saveAttribute name="name" xPath="/user/ui/colourschemes//scheme[@active='1']" memoryIndex="1" />
		<!-- Make sure the default schemes are removed before copying user schemes -->
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='QE3Radiant Original']" />
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='Maya/Max/Lightwave Emulation']" />
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='DarkRadiant Default']" />
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='Black &amp; Green']" />
		<!-- Add the following (missing) colournodes to the remaining schemes -->
		<addNode toXPath="/user/ui/colourschemes//scheme" nodeName="colour" name="brush_vertices" />
		<addNode toXPath="/user/ui/colourschemes//scheme" nodeName="colour" name="patch_vertex_inside" />
		<addNode toXPath="/user/ui/colourschemes//scheme" nodeName="colour" name="patch_vertex_corner" />
		<!-- Set the attribute values of the added nodes -->
		<setAttribute xPath="/user/ui/colourschemes//scheme/colour[@name='brush_vertices']" name="value" value="0 1 0" />
		<setAttribute xPath="/user/ui/colourschemes//scheme/colour[@name='patch_vertex_inside']" name="value" value="0 1 0" />
		<setAttribute xPath="/user/ui/colourschemes//scheme/colour[@name='patch_vertex_corner']" name="value" value="0 1 0" />
		<!-- Clear all active attributes in the base registry -->
		<setAttribute target="base" xPath="//user/ui/colourschemes//scheme" name="active" value="0" />
		<!-- Copy all remaining colour schemes into the new registry -->
		<copyNode fromXPath="/user/ui/colourschemes//scheme[@readonly!='1']" toXPath="user/ui/colourschemes" />
		<!-- Set the active scheme to the one that was stored in Memory 1 -->
		<setAttribute xPath="/user/ui/colourschemes//scheme[@name='{$1}']" name="active" value="1" />
		<!-- Import the state of showAllLightRadii into the new registry -->
		<copyValue fromXPath="/user/ui/showAllLightRadii" toXPath="user/ui/showAllLightRadii" />
	</upgradePath>
	<upgradePath fromVersion="0.6.0">
		<!-- This is in fact the version that DR 0.7.0 is using, due to a incorrect version tag -->
		<!-- Find the currently active scheme and store its name to Memory 1 -->
		<saveAttribute name="name" xPath="/user/ui/colourschemes//scheme[@active='1']" memoryIndex="1" />
		<!-- Make sure the default schemes are removed before copying user schemes -->
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='QE3Radiant Original']" />
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='Maya/Max/Lightwave Emulation']" />
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='DarkRadiant Default']" />
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='Black &amp; Green']" />
		<!-- Clear all active attributes in the base registry -->
		<setAttribute target="base" xPath="//user/ui/colourschemes//scheme" name="active" value="0" />
		<!-- Copy all remaining colour schemes into the new registry -->
		<copyNode fromXPath="/user/ui/colourschemes//scheme[@readonly!='1']" toXPath="user/ui/colourschemes" />
		<!-- Set the active scheme to the one that was stored in Memory 1 -->
		<setAttribute xPath="/user/ui/colourschemes//scheme[@name='{$1}']" name="active" value="1" />
		<!-- Import the state of showAllLightRadii into the new registry -->
		<copyValue fromXPath="/user/ui/showAllLightRadii" toXPath="user/ui/showAllLightRadii" />
	</upgradePath>
	<upgradePath fromVersion="0.7.0">
		<!-- Find the currently active scheme and store its name to Memory 1 -->
		<saveAttribute name="name" xPath="/user/ui/colourschemes//scheme[@active='1']" memoryIndex="1" />
		<!-- Make sure the default schemes are removed before copying user schemes -->
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='QE3Radiant Original']" />
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='Maya/Max/Lightwave Emulation']" />
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='DarkRadiant Default']" />
		<deleteNode xPath="/user/ui/colourschemes//scheme[@name='Black &amp; Green']" />
		<!-- Clear all active attributes in the base registry -->
		<setAttribute target="base" xPath="//user/ui/colourschemes//scheme" name="active" value="0" />
		<!-- Copy all remaining colour schemes into the new registry -->
		<copyNode fromXPath="/user/ui/colourschemes//scheme[@readonly!='1']" toXPath="user/ui/colourschemes" />
		<!-- Set the active scheme to the one that was stored in Memory 1 -->
		<setAttribute xPath="/user/ui/colourschemes//scheme[@name='{$1}']" name="active" value="1" />
		<!-- Import the state of showAllLightRadii into the new registry -->
		<copyValue fromXPath="/user/ui/showAllLightRadii" toXPath="user/ui/showAllLightRadii" />
	</upgradePath>
 </upgradePaths>
</user>

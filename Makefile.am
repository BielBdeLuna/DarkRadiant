AM_CPPFLAGS = -DPOSIX -Ilibs -Iinclude \
              $(GTK_CFLAGS) $(GTKGLEXT_CFLAGS) $(XML_CFLAGS)

noinst_LIBRARIES = libscenegraph.a
libscenegraph_a_SOURCES = libs/scene/InstanceWalkers.cpp \
						  libs/scene/Node.cpp \
						  libs/scene/TraversableNodeSet.cpp

bin_PROGRAMS = darkradiant
darkradiant_CPPFLAGS = $(AM_CPPFLAGS) -Iradiant
darkradiant_LDFLAGS = $(GTK_LFLAGS) $(GTKGLEXT_LFLAGS) $(XML_LFLAGS)
darkradiant_LDADD = libscenegraph.a
darkradiant_SOURCES = radiant/main.cpp \
					  radiant/RadiantModule.cpp \
					  radiant/brushmanip.cpp \
					  radiant/brush/Winding.cpp \
					  radiant/brush/export/CollisionModel.cpp \
					  radiant/brush/FaceTexDef.cpp \
					  radiant/brush/BrushModule.cpp \
					  radiant/brush/FixedWinding.cpp \
					  radiant/brush/BrushNode.cpp \
					  radiant/brush/FaceInstance.cpp \
					  radiant/brush/Brush.cpp \
					  radiant/brush/TextureProjection.cpp \
					  radiant/brush/Face.cpp \
					  radiant/brush/TexDef.cpp \
					  radiant/brush/BrushPrimitTexDef.cpp \
					  radiant/brush/FaceShader.cpp \
					  radiant/brush/csg/BrushByPlaneClipper.cpp \
					  radiant/brush/csg/CSG.cpp \
					  radiant/brush/BrushTokenExporter.cpp \
					  radiant/brush/FacePlane.cpp \
					  radiant/brush/BrushTokenImporter.cpp \
					  radiant/camera/Camera.cpp \
					  radiant/camera/GlobalCamera.cpp \
					  radiant/camera/CameraSettings.cpp \
					  radiant/camera/CamWnd.cpp \
					  radiant/namespace/Namespace.cpp \
					  radiant/namespace/NameObserver.cpp \
					  radiant/render/backend/OpenGLStateMap.cpp \
					  radiant/render/backend/OpenGLShader.cpp \
					  radiant/render/backend/GLProgramFactory.cpp \
					  radiant/render/backend/OpenGLStateBucket.cpp \
					  radiant/render/OpenGLModule.cpp \
					  radiant/render/OpenGLShaderCache.cpp \
					  radiant/ui/entitychooser/EntityClassChooser.cpp \
					  radiant/ui/entitychooser/EntityClassTreePopulator.cpp \
					  radiant/ui/texturebrowser/TextureBrowser.cpp \
					  radiant/ui/findshader/FindShader.cpp \
					  radiant/ui/mapinfo/MapInfoDialog.cpp \
					  radiant/ui/mediabrowser/MediaBrowser.cpp \
					  radiant/ui/particles/ParticlesChooser.cpp \
					  radiant/ui/overlay/OverlayDialog.cpp \
					  radiant/ui/overlay/Overlay.cpp \
					  radiant/ui/splash/Splash.cpp \
					  radiant/ui/mru/MRUMenuItem.cpp \
					  radiant/ui/mru/MRU.cpp \
					  radiant/ui/layers/LayerControl.cpp \
					  radiant/ui/layers/LayerContextMenu.cpp \
					  radiant/ui/layers/LayerControlDialog.cpp \
					  radiant/ui/ortho/OrthoContextMenu.cpp \
					  radiant/ui/about/AboutDialog.cpp \
					  radiant/ui/einspector/TexturePropertyEditor.cpp \
					  radiant/ui/einspector/EntityInspector.cpp \
					  radiant/ui/einspector/SkinChooser.cpp \
					  radiant/ui/einspector/ColourPropertyEditor.cpp \
					  radiant/ui/einspector/EntityPropertyEditor.cpp \
					  radiant/ui/einspector/SkinPropertyEditor.cpp \
					  radiant/ui/einspector/Vector3PropertyEditor.cpp \
					  radiant/ui/einspector/ComboBoxPropertyEditor.cpp \
					  radiant/ui/einspector/AddPropertyDialog.cpp \
					  radiant/ui/einspector/FloatPropertyEditor.cpp \
					  radiant/ui/einspector/PropertyEditor.cpp \
					  radiant/ui/einspector/BooleanPropertyEditor.cpp \
					  radiant/ui/einspector/LightTextureChooser.cpp \
					  radiant/ui/einspector/SoundPropertyEditor.cpp \
					  radiant/ui/einspector/PropertyEditorFactory.cpp \
					  radiant/ui/einspector/ClassnamePropertyEditor.cpp \
					  radiant/ui/einspector/ModelPropertyEditor.cpp \
					  radiant/ui/einspector/SoundChooser.cpp \
					  radiant/ui/common/ModelPreview.cpp \
					  radiant/ui/common/TexturePreviewCombo.cpp \
					  radiant/ui/common/ShaderSelector.cpp \
					  radiant/ui/common/ShaderChooser.cpp \
					  radiant/ui/common/SoundShaderPreview.cpp \
					  radiant/ui/common/RenderableAABB.cpp \
					  radiant/ui/menu/FiltersMenu.cpp \
					  radiant/ui/prefdialog/PrefPage.cpp \
					  radiant/ui/prefdialog/PrefDialog.cpp \
					  radiant/ui/transform/TransformDialog.cpp \
					  radiant/ui/modelselector/ModelSelector.cpp \
					  radiant/ui/surfaceinspector/SurfaceInspector.cpp \
					  radiant/ui/patch/PatchThickenDialog.cpp \
					  radiant/ui/patch/PatchInspector.cpp \
					  radiant/ui/patch/PatchCreateDialog.cpp \
					  radiant/ui/patch/BulgePatchDialog.cpp \
					  radiant/ui/lightinspector/LightInspector.cpp \
					  radiant/ui/commandlist/CommandList.cpp \
					  radiant/ui/commandlist/ShortcutChooser.cpp \
					  radiant/main.cpp \
					  radiant/patchmanip.cpp \
					  radiant/xyview/XYWnd.cpp \
					  radiant/xyview/GlobalXYWnd.cpp \
					  radiant/textool/TexToolItem.cpp \
					  radiant/textool/item/BrushItem.cpp \
					  radiant/textool/item/FaceItem.cpp \
					  radiant/textool/item/PatchItem.cpp \
					  radiant/textool/item/PatchVertexItem.cpp \
					  radiant/textool/TexTool.cpp \
					  radiant/layers/LayerCommandTarget.cpp \
					  radiant/layers/LayerSystem.cpp \
					  radiant/referencecache.cpp \
					  radiant/gtkmisc.cpp \
					  radiant/view.cpp \
					  radiant/modulesystem/DynamicLibrary.cpp \
					  radiant/modulesystem/ApplicationContextImpl.cpp \
					  radiant/modulesystem/DynamicLibraryLoader.cpp \
					  radiant/modulesystem/ModuleLoader.cpp \
					  radiant/modulesystem/ModuleRegistry.cpp \
					  radiant/brushexport/BrushExportOBJ.cpp \
					  radiant/gtkdlgs.cpp \
					  radiant/map.cpp \
					  radiant/select.cpp \
					  radiant/selection/SelectedNodeList.cpp \
					  radiant/selection/shaderclipboard/ShaderClipboard.cpp \
					  radiant/selection/shaderclipboard/Texturable.cpp \
					  radiant/selection/SelectionTest.cpp \
					  radiant/selection/ManipulateObserver.cpp \
					  radiant/selection/TransformationVisitors.cpp \
					  radiant/selection/algorithm/Transformation.cpp \
					  radiant/selection/algorithm/GroupCycle.cpp \
					  radiant/selection/algorithm/Curves.cpp \
					  radiant/selection/algorithm/Entity.cpp \
					  radiant/selection/algorithm/Shader.cpp \
					  radiant/selection/algorithm/Primitives.cpp \
					  radiant/selection/algorithm/Group.cpp \
					  radiant/selection/algorithm/ModelFinder.cpp \
					  radiant/selection/algorithm/General.cpp \
					  radiant/selection/BestPoint.cpp \
					  radiant/selection/Planes.cpp \
					  radiant/selection/RadiantWindowObserver.cpp \
					  radiant/selection/RadiantSelectionSystem.cpp \
					  radiant/selection/Manipulatables.cpp \
					  radiant/selection/SelectObserver.cpp \
					  radiant/selection/Intersection.cpp \
					  radiant/selection/Manipulators.cpp \
					  radiant/settings/GameFileLoader.cpp \
					  radiant/settings/Game.cpp \
					  radiant/settings/GameManager.cpp \
					  radiant/settings/PreferenceSystem.cpp \
					  radiant/settings/Win32Registry.cpp \
					  radiant/patch/Patch.cpp \
					  radiant/patch/PatchNode.cpp \
					  radiant/patch/PatchModule.cpp \
					  radiant/patch/PatchBezier.cpp \
					  radiant/map/RootNode.cpp \
					  radiant/map/MapPosition.cpp \
					  radiant/map/FindMapElements.cpp \
					  radiant/map/MapFileManager.cpp \
					  radiant/map/algorithm/Traverse.cpp \
					  radiant/map/RegionManager.cpp \
					  radiant/map/PointFile.cpp \
					  radiant/map/MapPositionManager.cpp \
					  radiant/map/MapResource.cpp \
					  radiant/map/Map.cpp \
					  radiant/map/AutoSaver.cpp \
					  radiant/entity.cpp \
					  radiant/clipper/ClipPoint.cpp \
					  radiant/clipper/Clipper.cpp \
					  radiant/timer.cpp \
					  radiant/mainframe.cpp \
					  radiant/log/Console.cpp \
					  radiant/log/LogStream.cpp \
					  radiant/log/LogWriter.cpp \
					  radiant/log/COutRedirector.cpp \
					  radiant/log/StringLogDevice.cpp \
					  radiant/log/LogStreamBuf.cpp \
					  radiant/log/LogFile.cpp \
					  radiant/windowobservers.cpp \
					  radiant/referencecache/ModelCache.cpp \
					  radiant/referencecache/NullModel.cpp \
					  radiant/referencecache/NullModelNode.cpp \
					  radiant/referencecache/RadiantReferenceCache.cpp 
